<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<!-- 최상위를 StackPane으로 변경하고 fx:id 추가 -->
<StackPane fx:id="rootPane" prefHeight="768.0" prefWidth="1280.0" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.samyukgu.what2wear.myCodi.controller.DetailMyCodiController">
    <children>
        <!-- 기존 HBox를 StackPane 안에 넣기 -->
        <HBox prefHeight="768.0" prefWidth="1280.0">
            <children>
                <!-- 메인 컨테이너 -->
                <VBox prefHeight="768.0" prefWidth="1030.0" style="-fx-background-color: white;">
                    <!-- 상단 헤더 바 -->
                    <AnchorPane prefHeight="50.0" prefWidth="1030.0" style="-fx-background-color: #f8f9fa; -fx-border-color: #e9ecef; -fx-border-width: 0 0 1 0;">
                        <children>
                            <HBox alignment="CENTER_LEFT" layoutX="14.0" layoutY="5.0" spacing="15.0">
                                <children>
                                    <!-- 뒤로가기 버튼 -->
                                    <Button onAction="#handleBackClick" style="-fx-background-color: transparent; -fx-cursor: hand; -fx-border-color: transparent;">
                                        <graphic>
                                            <ImageView fitHeight="30" fitWidth="30">
                                                <image>
                                                    <Image preserveRatio="true" url="@../wardrobe/images/tabler_arrow-left.png" />
                                                </image>
                                            </ImageView>
                                        </graphic>
                                    </Button>
                                    <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #333;" text="나만의 코디 상세">
                                        <font>
                                            <Font name="System Bold" size="18.0" />
                                        </font>
                                    </Label>
                                </children>
                            </HBox>
                        </children>
                    </AnchorPane>

                    <!-- 메인 콘텐츠 영역 -->
                    <HBox prefHeight="718.0" prefWidth="1030.0" spacing="15" style="-fx-padding: 15;">
                        <children>
                            <!-- 왼쪽: FlowPane 영역 -->
                            <VBox prefHeight="687.0" prefWidth="703.0" spacing="10" HBox.hgrow="NEVER">
                                <children>
                                    <!-- 코디 이름 영역 -->
                                    <VBox spacing="5">
                                        <children>
                                            <Label style="-fx-font-size: 12px; -fx-font-weight: bold; -fx-text-fill: #333;" text="코디 이름">
                                                <font>
                                                    <Font name="System Bold" size="12.0" />
                                                </font>
                                            </Label>
                                            <TextField fx:id="codiNameField" editable="false" prefHeight="35" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-background-color: #f8f9fa; -fx-border-color: #e9ecef; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 8;">
                                                <font>
                                                    <Font name="System Bold" size="14.0" />
                                                </font>
                                            </TextField>
                                        </children>
                                    </VBox>

                                    <!-- 옷 아이템 FlowPane -->
                                    <VBox spacing="8">
                                        <children>
                                            <Label style="-fx-font-size: 12px; -fx-font-weight: bold; -fx-text-fill: #333;" text="포함된 아이템">
                                                <font>
                                                    <Font name="System Bold" size="12.0" />
                                                </font>
                                            </Label>

                                            <ScrollPane fitToWidth="true" hbarPolicy="NEVER" prefHeight="456.0" prefWidth="686.0" style="-fx-background-color: transparent; -fx-border-color: transparent;" vbarPolicy="AS_NEEDED">
                                                <content>
                                                    <FlowPane fx:id="codiFlowPane" hgap="15.0" style="-fx-padding: 15; -fx-background-color: #f8f9fa; -fx-background-radius: 8;" vgap="15.0">
                                                        <!-- 동적으로 생성되는 옷 아이템들이 여기에 추가됩니다 -->
                                                    </FlowPane>
                                                </content>
                                            </ScrollPane>
                                        </children>
                                    </VBox>

                                    <!-- 액션 버튼들 -->
                                    <HBox alignment="CENTER" prefHeight="101.0" prefWidth="294.0" spacing="15.0" style="-fx-padding: 10 0 5 0;">
                                        <children>
                                            <Button onAction="#handleEdit" prefHeight="35.0" prefWidth="120.0" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-size: 12px; -fx-background-radius: 6; -fx-cursor: hand;" text="수정하기">
                                                <font>
                                                    <Font name="System Bold" size="12.0" />
                                                </font>
                                            </Button>
                                            <Button onAction="#handleDelete" prefHeight="35.0" prefWidth="120.0" style="-fx-background-color: #FA7B7F; -fx-text-fill: white; -fx-font-size: 12px; -fx-background-radius: 6; -fx-cursor: hand;" text="삭제하기">
                                                <font>
                                                    <Font name="System Bold" size="12.0" />
                                                </font>
                                            </Button>
                                        </children>
                                    </HBox>
                                </children>
                            </VBox>

                            <!-- 오른쪽: 카테고리별 상세 정보 -->
                            <VBox prefHeight="643.0" prefWidth="315.0" spacing="10" style="-fx-padding: 10; -fx-background-color: #f8f9fa; -fx-background-radius: 8;" HBox.hgrow="ALWAYS">
                                <children>
                                    <ScrollPane fitToWidth="true" hbarPolicy="NEVER" prefHeight="533.0" prefWidth="278.0" style="-fx-background-color: transparent; -fx-border-color: transparent;" vbarPolicy="AS_NEEDED">
                                        <content>
                                            <VBox fx:id="detailVBox" spacing="8" style="-fx-padding: 5;">
                                                <children>
                                                    <!-- 제목 -->
                                                    <Label style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #333;" text="선택된 아이템 상세">
                                                        <font>
                                                            <Font name="System Bold" size="14.0" />
                                                        </font>
                                                    </Label>

                                                    <!-- 동적으로 생성되는 상세 정보들이 여기에 추가됩니다 -->

                                                    <!-- 코디 통계 정보 -->
                                                    <VBox spacing="8" style="-fx-background-color: #e8f4ff; -fx-background-radius: 6; -fx-padding: 12; -fx-effect: dropshadow(three-pass-box, rgba(0,123,255,0.1), 2, 0, 0, 1);">
                                                        <children>
                                                            <Label style="-fx-font-size: 12px; -fx-font-weight: bold; -fx-text-fill: #007acc;" text="코디 정보">
                                                                <font>
                                                                    <Font name="System Bold" size="12.0" />
                                                                </font>
                                                            </Label>
                                                            <HBox spacing="5">
                                                                <children>
                                                                    <Label style="-fx-font-size: 11px; -fx-font-weight: bold; -fx-text-fill: #495057;" text="총 아이템 수:">
                                                                        <font>
                                                                            <Font name="System Bold" size="11.0" />
                                                                        </font>
                                                                    </Label>
                                                                    <Label fx:id="totalItemsLabel" style="-fx-font-size: 11px; -fx-text-fill: #007acc;" text="0개">
                                                                        <font>
                                                                            <Font size="11.0" />
                                                                        </font>
                                                                    </Label>
                                                                </children>
                                                            </HBox>
                                                            <HBox spacing="5">
                                                                <children>
                                                                    <Label style="-fx-font-size: 11px; -fx-font-weight: bold; -fx-text-fill: #495057;" text="코디 등록일:">
                                                                        <font>
                                                                            <Font name="System Bold" size="11.0" />
                                                                        </font>
                                                                    </Label>
                                                                    <Label fx:id="createdDateLabel" style="-fx-font-size: 11px; -fx-text-fill: #007acc;" text="-">
                                                                        <font>
                                                                            <Font size="11.0" />
                                                                        </font>
                                                                    </Label>
                                                                </children>
                                                            </HBox>
                                                        </children>
                                                    </VBox>
                                                </children>
                                            </VBox>
                                        </content>
                                    </ScrollPane>
                                </children>
                            </VBox>
                        </children>
                    </HBox>
                </VBox>
            </children>
        </HBox>
    </children>
</StackPane>